### Принцип решения

1. Функция move_rings:
   - Эта функция реализует рекурсивный алгоритм для перемещения колец с одного стержня на другой. Она принимает 4 параметра:
     - n: количество колец, которые необходимо переместить.
     - stick1: номер исходного стержня, с которого будут перемещаться кольца.
     - stick3: номер целевого стержня, на который кольца будут перемещаться.
     - stick2: номер вспомогательного стержня, который будет использоваться в процессе перемещения.
     - moves: список, в который будут записываться шаги перемещения.

2. Базовый случай:
   - Внутри функции проверяется, если n == 1. Это базовый случай рекурсии:
     - Если количество колец равно 1, то кольцо перемещается с stick1 на stick3, и в список moves добавляется строка, описывающая это перемещение.
     - Функция возвращает 1, что означает, что перемещение одного кольца требует одного хода.

3. Рекурсивное перемещение колец:
   - Если n > 1, создается переменная count_moves, которая инициализируется значением 0. Она будет использоваться для подсчета общего количества ходов.
   - Первый шаг рекурсии: вызывается move_rings(n - 1, stick1, stick2, stick3, moves), чтобы переместить верхние n-1 колец с исходного стержня stick1 на вспомогательный стержень stick2. Количество ходов, сделанных в этом вызове, добавляется к count_moves.

4. Перемещение самого большого кольца:
   - После того как n-1 колец перемещены на вспомогательный стержень, добавляется шаг перемещения самого большого кольца (номер n) с stick1 на stick3. Это также увеличивает count_moves на 1, так как это еще один ход.

5. Вторичное рекурсивное перемещение:
   - Затем вызывается move_rings(n - 1, stick2, stick3, stick1, moves), чтобы переместить n-1 колец с вспомогательного стержня stick2 на целевой стержень stick3. Количество ходов, сделанных в этом вызове, добавляется к count_moves.

6. Возврат общего количества ходов:
   - В конце функции move_rings возвращается общее количество ходов, подсчитанное за время выполнения функции.

### Основная функция main

1. Ввод данных:
   - Внутри функции main происходит ввод данных от пользователя. Запрашиваются количество колец и количество стержней. Введенные значения преобразуются в целые числа.

2. Проверка количества стержней:
   - Проверяется, действительно ли количество стержней равно 3. Если нет, то выводится сообщение об ошибке, и программа завершает выполнение.

3. Инициализация стержней:
   - Устанавливаются номера стержней: stick1 (1), stick3 (3) и stick2 (2). Эти номера используются для перемещения колец.

4. Создание списка для шагов:
   - Инициализируется пустой список moves, который будет хранить шаги перемещения колец.

5. Вызов рекурсивной функции:
   - Вызывается функция move_rings, передавая ей количество колец и номера стержней. Результат (общее количество ходов) сохраняется в переменной total_moves.

6. Вывод результата:
   - Итоговые шаги перемещения колец выводятся на экран, а также выводится общее количество ходов.

7. Запись результата в файл:
   - Все шаги и общее количество ходов записываются в файл "решение.txt".
